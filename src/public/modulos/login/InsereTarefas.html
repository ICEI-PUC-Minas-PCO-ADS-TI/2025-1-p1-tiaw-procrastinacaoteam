<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrada de Tarefas</title>
    <link rel="stylesheet" href="../../assets/css/InsereTarefas.css">
</head>
<body>


    <h2 class="Ndp">Nos diga o que você precisa fazer</h2>
    <img src="../../assets/images/Imagem preguiça 2.png" alt="" class="Preguica">

    
    <div id="Centro">

        <div class="topo">
            <button id="btnCancelar">Limpar</button>
        </div>
        <div class="topo2">
            <a id="btnVoltar" href="index.html">Voltar</a>
        </div>

        <div class="EntradaTudo">
            <form action="InsereTarefas.html" id="AddTarefas">
                <input type="text" id="Entrada" placeholder="Insira sua tarefa">
                <br>
                <label for="EntradaData" class="DataParagrafo">Data</label>
                <input type="date" id="EntradaData"/>
                <br>
                <div class="inputs-importancia">
                     <div class="Importancia-Input">
                        <input type="radio" id="imp-baixa" name="importancia" value="Baixa">
                        <label for="imp-baixa">Baixa Importância</label>
                    </div>
                    <div class="Importancia-Input">
                        <input type="radio" id="imp-media" name="importancia" value="Media">
                        <label for="imp-media">Média Importância</label>
                    </div>
                    <div class="Importancia-Input">
                        <input type="radio" id="imp-alta" name="importancia" value="Alta">
                        <label for="imp-alta">Alta Importância</label>
                    </div>
                </div>

                <div class="Add">
                <input type="submit" value="Adicionar" class="Adicionar">
                </div>
            </form>
        </div>



    </div>
    

    <script>

        document.addEventListener('DOMContentLoaded', () => {

            let nivelImportanciaSelecionado = null;

            const inputsContainer = document.querySelector('.inputs-importancia');

            inputsContainer.addEventListener('change', (event) => {

                if (event.target.tagName === 'INPUT' && event.target.type === 'radio' && event.target.checked) {

                    nivelImportancia = event.target.value;


                }



            })


        })
        
        document.getElementById('AddTarefas').addEventListener('submit', (event) => {
            event.preventDefault();

            const Tarefa = document.getElementById('Entrada').value
            const Data = document.getElementById('EntradaData').value

             const JSONdados = {

                "tarefas": [
                    {
                    "DataListada": Data,
                    "itens": [
                        {
                        "TarefasListada": Tarefa,
                        "Importancia": nivelImportancia,
                        }
                    ],
                    },
                ]

            }

            alert(Tarefa +' '+ Data +' '+ nivelImportancia);


        })


        document.getElementById('btnCancelar').addEventListener('click', function () {

                document.getElementById('AddTarefas').reset();
                nivelImportancia = null;
                document.querySelectorAll('.inputs-importancia input[type="radio"]').forEach(radio => radio.checked = false);
            
        });



    </script>







</body>
</html>